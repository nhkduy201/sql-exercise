use QLDT
go
--DOI KIEU DU LIEU
ALTER TABLE GIAOVIEN
ALTER COLUMN PHAI NVARCHAR(5)
ALTER TABLE GV_DT
ALTER COLUMN PHAI NVARCHAR(5)
ALTER TABLE KHOA
DROP COLUMN NAMTL
ALTER TABLE KHOA
ADD NAMTL SMALLINT
INSERT CHUDE(MACD,TENCD)
VALUES
	('NCPT',N'NGHIÊN CỨU PHÁT TRIỂN'),
	('QLGD',N'QUẢN LÝ GIÁO DỤC'),
	(N'ƯDCN',N'ỨNG DỤNG CÔNG NGHỆ')
INSERT GIAOVIEN (MAGV,HOTEN, LUONG, PHAI,NGSINH,DIACHI,GVQLCM)
VALUES
	('001',N'NGUYỄN HOÀI AN',2000,'NAM','1973-02-15',N'25/3 LẠC LONG QUÂN, Q10, TP HCM',NULL),
	('002',N'TRẦN TRÀ HƯƠNG',2500,N'NỮ','6/20/1960',N'125 TRẦN HƯNG ĐẠO, Q1, TP HCM',NULL),
	('003',N'NGUYỄN NGOC ÁNH',2200,N'NỮ','1975-5-11',N'12/21 VÕ VĂN NGÂN, THỦ ĐỨC, TP HCM', '002'),
	('004',N'TRƯƠNG NAM SƠN',2300,'NAM','1959-6-20',N'215 LÝ THƯỜNG KIỆT, TP BIÊN HÒA', NULL),
	('005',N'LÝ HOÀNG HÀ',2500,'NAM','1954-10-23',N'22/5 NGUYỄN XÍ, Q.BÌNH THẠNH, TP HCM', NULL),
	('006',N'TRẦN BẠCH TUYẾT',1500,N'NỮ','1980-5-20',N'127 HÙNG VƯƠNG, TP MỸ THO', '004'),
	('007',N'NGUYỄN AN TRUNG',2100,'NAM','1976-6-5',N'234 3/2, TP BIÊN HÒA', NULL),
	('008',N'TRẦN TRUNG HIẾU',1800,'NAM','1977-8-6',N'22/11 LÝ THƯỜNG KIỆT, TP MỸ THO', '007'),
	('009',N'TRẦN HOÀNG NAM',2000,'NAM','1975-11-22',N'234 TRẤN NÃO, AN PHÚ, TP HCM', '001'),
	('010',N'PHẠM NAM THANH',1500,'NAM','1980-12-12',N'221 HÙNG VƯƠNG, Q.5, TP HCM', '007')
INSERT GV_DT(MAGV, DIENTHOAI)
VALUES
	('001', '0838912112'),
	('001', '0903123123'),
	('002', '0913454545'),
	('003', '0838121212'),
	('003', '0903656565'),
	('003', '0937125125'),
	('006', '0937888888'),
	('008', '0653717171'),
	('008', '0913232323')
INSERT NGUOITHAN(MAGV, TEN, NGAYSINH, PHAI)
VALUES
	('001', N'HÙNG', '1990-1-14', 'NAM'),
	('001', N'THỦY', '1994-12-8', N'NỮ'),
	('003', N'HÀ', '1998-9-3', N'NỮ'),
	('003', 'THU', '1998-9-3', N'NỮ'),
	('007', 'MAI', '2003-3-26', N'NỮ'),
	('007', 'VY', '2000-2-14', N'NỮ'),
	('008', 'NAM', '1991-5-6', 'NAM'),
	('009', 'AN', '1996-8-19', 'NAM'),
	('010', N'NGUYỆT', '2006-1-14', N'NỮ')
INSERT DETAI(MADT, TENDT, CAPQL, KINHPHI, NGAYBD, NGAYKT, MACD, GVCNDT)
VALUES
	('001', N'HTTT QUẢN LÝ CÁC TRƯỜNG ĐH', N'ĐHQG', 20, '2007-10-20', '2008-10-20', 'QLGD', '002'),
	('002', N'HTTT QUẢN LÝ GIÁO VỤ CHO MỘT KHOA', N'TRƯỜNG', 20, '2000-10-12', '2001-10-12', 'QLGD', '002'),
	('003', N'NGHIÊN CỨU CHẾ TẠO SỢI NANO PLATIN', N'ĐHQG', 300, '2008-5-15', '2010-5-15', 'NCPT', '005'),
	('004', N'TẠO VẬT LIỆU SINH HỌC BẰNG MÀNG ỐI NGƯỜI', N'NHÀ NƯỚC', 100, '2007-1-1', '2009-12-31', 'NCPT', '004'),
	('005', N'ỨNG DỤNG HÓA HỌC XANH', N'TRƯỜNG', 200, '2003-10-10', '2004-12-10', N'ƯDCN', '007'),
	('006', N'NGHIÊN CỨU TẾ BÀO GỐC', N'NHÀ NƯỚC', 4000, '2006-10-20', '2009-10-20', 'NCPT', '004'),
	('007', N'HTTT QUẢN LÝ THƯ VIỆN Ở CÁC TRƯỜNG ĐH', N'TRƯỜNG', 20, '2009-5-10', '2010-5-10', 'QLGD', '001')
INSERT CONGVIEC(MADT, SOTT, TENCV, NGAYBD, NGAYKT)
VALUES
	('001', 1, N'KHỞI TẠO VÀ LẬP KẾ HOẠCH', '2007-10-20', '2008-12-20'),
	('001', 2, N'XÁC ĐỊNH YÊU CẦU', '2008-12-21', '2008-3-21'),
	('001', 3, N'PHÂN TÍCH HỆ THỐNG', '2008-3-22', '2008-5-22'),
	('001', 4, N'THIẾT KẾ HỆ THỐNG', '2008-5-23', '2008-6-23'),
	('001', 5, N'CÀI ĐẶT THỬ NGHIỆM', '2008-6-24', '2008-10-20'),
	('002', 1, N'KHỞI TẠO VÀ LẬP KẾ HOẠCH', '2009-5-10', '2009-7-10'),
	('002', 2, N'XÁC ĐỊNH YÊU CẦU', '2009-7-11', '2009-10-11'),
	('002', 3, N'PHÂN TÍCH HỆ THỐNG', '2009-10-12', '2009-12-20'),
	('002', 4, N'THIẾT KẾ HỆ THỐNG', '2009-12-21', '2010-3-22'),
	('002', 5, N'CÀI ĐẶT THỬ NGHIỆM', '2010-3-23', '2010-5-10'),
	('006', 1, N'LẤY MẪU', '2006-10-20', '2007-2-20'),
	('006', 2, N'NUÔI CẤY', '2007-2-21', '2008-8-21')
INSERT THAMGIADT(MAGV, MADT, STT, PHUCAP, KETQUA)
VALUES
	('001', '002', 1, 0, NULL),
	('001', '002', 2, 2, NULL),
	('002', '001', 4, 2, N'ĐẠT'),
	('003', '001', 1, 1, N'ĐẠT'),
	('003', '001', 2, 0, N'ĐẠT'),
	('003', '001', 4, 1, N'ĐẠT'),
	('003', '002', 2, 0, NULL),
	('004', '006', 1, 0, N'ĐẠT'),
	('004', '006', 2, 1, N'ĐẠT'),
	('006', '006', 2, 1.5, N'ĐẠT'),
	('009', '002', 3, 0.5, NULL),
	('009', '002', 4, 1.5, NULL)
INSERT KHOA(MAKHOA, TENKHOA, NAMTL, PHONG, DIENTHOAI, TRUONGKHOA, NGAYNHANCHUC)
VALUES
	('CNTT', N'CÔNG NGHỆ THÔNG TIN', 1995, 'B11', '0838123456', '002', '2005-2-20'),
	('HH', N'HÓA HỌC', 1980, 'B41', '0838456456', '007', '2001-10-15'),
	('SH', N'SINH HỌC', 1980, 'B31', '0838454545', '004', '2000-10-11'),
	('VL', N'VẬT LÝ', 1976, 'B21', '0838223223', '005', '2003-9-18')
INSERT BOMON(MABM, TENBM, PHONG, DIENTHOAI, TRUONGBM, MAKHOA, NGAYNHANCHUC)
VALUES
	('CNTT', N'CÔNG NGHỆ TRI THỨC', 'B15', '0838126126', NULL, 'CNTT', NULL),
	('HHC', N'HÓA HỮU CƠ', 'B44', '0838222222', NULL, 'HH', NULL),
	('HL', N'HÓA LÝ', 'B42', '0838878787', NULL, 'HH', NULL),
	('HPT', N'HÓA PHÂN TÍCH', 'B43', '0838777777', '007', 'HH', '2007-10-15'),
	('HTTT', N'HỆ THỐNG THÔNG TIN', 'B13', '0838125125', '002', 'CNTT', '2004-9-20'),
	('MMT', N'MẠNG MÁY TÍNH', 'B16', '0838676767', '001', 'CNTT', '2005-05-15'),
	('SH', N'SINH HÓA', 'B33', '0838898989', NULL, 'SH', NULL),
	(N'VLĐT', N'VẬT LÝ ĐIỆN TỬ', 'B23', '0838234234', NULL, 'VL', NULL),
	(N'VLƯD', N'VẬT LÝ ỨNG DỤNG', 'B24', '0838454545', '005', 'VL', '2006-2-18'),
	('VS', N'VI SINH', 'B32', '0838909090', '004', 'SH', '2007-1-1')

--CAP NHAT DU LIEU
UPDATE GIAOVIEN
SET MABM = 'MMT'
WHERE MAGV = '001' OR MAGV = '009'
UPDATE GIAOVIEN
SET MABM = 'HTTT'
WHERE MAGV = '002' OR MAGV = '003'
UPDATE GIAOVIEN
SET MABM = 'VS'
WHERE MAGV = '004' OR MAGV = '006'
UPDATE GIAOVIEN
SET MABM = N'VLĐT'
WHERE MAGV = '005'
UPDATE GIAOVIEN
SET MABM = 'HPT'
WHERE MAGV = '007' OR MAGV = '008' OR MAGV = '010'
--XEM DU LIEU
SELECT * FROM CHUDE
SELECT * FROM GIAOVIEN
SELECT * FROM GV_DT
SELECT * FROM NGUOITHAN
SELECT * FROM DETAI
SELECT * FROM CONGVIEC
SELECT * FROM THAMGIADT
SELECT * FROM KHOA
SELECT * FROM BOMON
--XOA DU LIEU
--DELETE FROM CHUDE
--WHERE MACD = N'ƯDCN' --ĐIỀU KIỆN
DELETE FROM THAMGIADT
DELETE FROM CONGVIEC
DELETE FROM DETAI
ALTER TABLE DETAI
DROP COLUMN CAPQL
ALTER TABLE DETAI
ADD CAPQL NVARCHAR(10)
INSERT DETAI(MADT, TENDT, CAPQL, KINHPHI, NGAYBD, NGAYKT, MACD, GVCNDT)
VALUES
	('001', N'HTTT QUẢN LÝ CÁC TRƯỜNG ĐH', N'ĐHQG', 20, '2007-10-20', '2008-10-20', 'QLGD', '002'),
	('002', N'HTTT QUẢN LÝ GIÁO VỤ CHO MỘT KHOA', N'TRƯỜNG', 20, '2000-10-12', '2001-10-12', 'QLGD', '002'),
	('003', N'NGHIÊN CỨU CHẾ TẠO SỢI NANO PLATIN', N'ĐHQG', 300, '2008-5-15', '2010-5-15', 'NCPT', '005'),
	('004', N'TẠO VẬT LIỆU SINH HỌC BẰNG MÀNG ỐI NGƯỜI', N'NHÀ NƯỚC', 100, '2007-1-1', '2009-12-31', 'NCPT', '004'),
	('005', N'ỨNG DỤNG HÓA HỌC XANH', N'TRƯỜNG', 200, '2003-10-10', '2004-12-10', N'ƯDCN', '007'),
	('006', N'NGHIÊN CỨU TẾ BÀO GỐC', N'NHÀ NƯỚC', 4000, '2006-10-20', '2009-10-20', 'NCPT', '004'),
	('007', N'HTTT QUẢN LÝ THƯ VIỆN Ở CÁC TRƯỜNG ĐH', N'TRƯỜNG', 20, '2009-5-10', '2010-5-10', 'QLGD', '001')
INSERT CONGVIEC(MADT, SOTT, TENCV, NGAYBD, NGAYKT)
VALUES
	('001', 1, N'KHỞI TẠO VÀ LẬP KẾ HOẠCH', '2007-10-20', '2008-12-20'),
	('001', 2, N'XÁC ĐỊNH YÊU CẦU', '2008-12-21', '2008-3-21'),
	('001', 3, N'PHÂN TÍCH HỆ THỐNG', '2008-3-22', '2008-5-22'),
	('001', 4, N'THIẾT KẾ HỆ THỐNG', '2008-5-23', '2008-6-23'),
	('001', 5, N'CÀI ĐẶT THỬ NGHIỆM', '2008-6-24', '2008-10-20'),
	('002', 1, N'KHỞI TẠO VÀ LẬP KẾ HOẠCH', '2009-5-10', '2009-7-10'),
	('002', 2, N'XÁC ĐỊNH YÊU CẦU', '2009-7-11', '2009-10-11'),
	('002', 3, N'PHÂN TÍCH HỆ THỐNG', '2009-10-12', '2009-12-20'),
	('002', 4, N'THIẾT KẾ HỆ THỐNG', '2009-12-21', '2010-3-22'),
	('002', 5, N'CÀI ĐẶT THỬ NGHIỆM', '2010-3-23', '2010-5-10'),
	('006', 1, N'LẤY MẪU', '2006-10-20', '2007-2-20'),
	('006', 2, N'NUÔI CẤY', '2007-2-21', '2008-8-21')
INSERT THAMGIADT(MAGV, MADT, STT, PHUCAP, KETQUA)
VALUES
	('001', '002', 1, 0, NULL),
	('001', '002', 2, 2, NULL),
	('002', '001', 4, 2, N'ĐẠT'),
	('003', '001', 1, 1, N'ĐẠT'),
	('003', '001', 2, 0, N'ĐẠT'),
	('003', '001', 4, 1, N'ĐẠT'),
	('003', '002', 2, 0, NULL),
	('004', '006', 1, 0, N'ĐẠT'),
	('004', '006', 2, 1, N'ĐẠT'),
	('006', '006', 2, 1.5, N'ĐẠT'),
	('009', '002', 3, 0.5, NULL),
	('009', '002', 4, 1.5, NULL)

